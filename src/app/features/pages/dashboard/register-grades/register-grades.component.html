<div class="register-grades">
  <h1 class="title">Registrar calificaciones</h1>

  <div class="table-container">
    <table class="grades-table">
      <thead>
        <tr>
          <th class="student-name">NOMBRE</th>
          <th class="grade-column">MATERIA</th>
          <th class="average-column">TAREAS</th>
          <th class="grade-column">TAREAS GRUPALES</th>
          <th class="grade-column">EXAMENES</th>
          <th class="average-column">PROMEDIO</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of students">
          <td class="student-name">{{ student.name }}</td>
          <td class="grade-materia">
            <input 
              type="text" 
              [(ngModel)]="student.materia"
              (ngModelChange)="onGradeChange(student)"
              class="grade-input"
            />
          </td>
          <td class="grade-column">
            <input 
              type="number" 
              [(ngModel)]="student.deberes"
              (ngModelChange)="onGradeChange(student)"
              min="0" 
              max="10" 
              step="0.01"
              class="grade-input"
            />
          </td>
          <td class="grade-column">
            <input 
              type="number" 
              [(ngModel)]="student.trabajosGrupales"
              (ngModelChange)="onGradeChange(student)"
              min="0" 
              max="10" 
              step="0.01"
              class="grade-input"
            />
          </td>
          <td class="grade-column">
            <input 
              type="number" 
              [(ngModel)]="student.examenes"
              (ngModelChange)="onGradeChange(student)"
              min="0" 
              max="10" 
              step="0.01"
              class="grade-input"
            />
          </td>
          <td class="average-column" [ngClass]="student.status">
            {{ student.promedio | number:'1.2-2' }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="actions">
    <button class="save-btn" (click)="saveGrades()">
      <i class="fas fa-save"></i>
      Guardar Calificaciones
    </button>
  </div>
</div>
